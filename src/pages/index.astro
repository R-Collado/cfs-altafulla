---
import Layout from "@/layouts/Layout.astro";
import heroImage from "@/images/hero-img.jpeg";
import HomeCarousel from "@/components/HomeCarousel.astro";
import LastMatches from "@/components/LastMatches.astro";
import NextMatch from "@/components/NextMatch.astro";
import HomePlayersSlider from "@/components/HomePlayersSlider.astro";
import { getLangFromUrl, useTranslations } from "@/i18n/utils";
import HomeSponsors from "@/components/HomeSponsors.astro";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<Layout title="CFS Altafulla">
  <header class="header">
    <img src={heroImage.src} class="hero-img" />
    <section class="carousel">
      <HomeCarousel />
    </section>
  </header>
  <section class="matches">
    <LastMatches />
    <NextMatch />
  </section>
  <section class="players-slider">
    <h3 class="section-heading">{t("player.our_players")}</h3>
    <HomePlayersSlider />
  </section>
  <section class="sponsors">
    <HomeSponsors />
  </section>
</Layout>
<style is:global>
  @import url("https://fonts.googleapis.com/css2?family=Figtree:ital,wght@0,300..900;1,300..900&display=swap");

  body {
    font-family: var(--primary-font);
    overflow-x: hidden;
  }

  .section-heading {
    margin: 0 auto;
    width: max-content;
    margin-block: 2rem;
    text-transform: uppercase;
  }

  .hero-img {
    width: 100%;
    height: 80vh;
    object-fit: cover;
    filter: brightness(0.75);
  }

  .header {
    overflow: hidden;
  }

  .carousel {
    height: 10rem;

    @media (max-width: 1200px) {
      display: none;
    }
  }

  .matches {
    position: relative;
    @media (min-width: 768px) {
      display: flex;
    }

    @media (max-width: 1200px) {
      margin-top: -0.5rem;
    }

    @media (min-width: 1400px) {
      gap: 6rem;
    }
  }

  .players-slider {
    overflow: hidden;
  }

  .sponsors {
    background-color: var(--secondary-color);
    padding: 1px;
    padding-bottom: 5rem;
  }
</style>

<script>
  import { redirectToDesiredLang } from "@/i18n/utils";
</script>
